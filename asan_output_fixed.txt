🔍 Memory profiling enabled (statistics reset)
Running 155 registered tests...
🧪 Running test: test_memory_allocation
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_memory_allocation

🧪 Running test: test_memory_deallocation
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_memory_deallocation

🧪 Running test: test_memory_leak_detection
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_memory_leak_detection

🧪 Running test: test_vector_memory
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_vector_memory

🧪 Running test: test_autorelease_pool_basic
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:4 Dealloc:1 Peak:16 Current:12 Leaks:3
📋 String: A:2/0 R:2
📋 Vector: A:1/1 Rel:1
📋 List: A:1/0
🚨 LEAK: 3 objects, 12 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 3 allocations                    │
   │ Current Memory:             12 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 4                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 2 leaks
🔍 List: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_autorelease_pool_basic

🧪 Running test: test_autorelease_pool_nested
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:5 Dealloc:2 Peak:20 Current:12 Leaks:3
📋 String: A:2/0 R:1
📋 Vector: A:2/2 Rel:2
📋 List: A:1/0
🚨 LEAK: 3 objects, 12 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 3 allocations                    │
   │ Current Memory:             12 bytes                         │
   │ Peak Memory:               20 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 2 leaks
🔍 List: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_autorelease_pool_nested

🧪 Running test: test_cow_assumptions_rc_behavior
🔍 Memory profiling enabled (statistics reset)

=== COW Assumptions: RC Behavior ===
After make_map: RC=1
After AUTORELEASE: RC=1
✓ AUTORELEASE does NOT increase RC
After RETAIN: RC=2
✓ RC=2 would trigger COW in map_assoc_cow
After RELEASE: RC=1
✓ All COW assumptions verified!
⚠️  WARNING: Potential double-free detected! Object destructions (4) significantly exceed allocations (1).
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_assumptions_rc_behavior

🧪 Running test: test_autorelease_pool_memory_cleanup
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:21 Dealloc:13 Peak:84 Current:32 Leaks:8
📋 String: A:15/11 R:5 Rel:16 AR:15
📋 Vector: A:1/1 Rel:1
📋 List: A:5/1 R:4 Rel:2 AR:1
🚨 LEAK: 8 objects, 32 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 8 allocations                    │
   │ Current Memory:             32 bytes                         │
   │ Peak Memory:               84 bytes                         │
   │ Allocations:                21                               │
   │ Deallocations:              13                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 4 leaks
🔍 List: 4 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_autorelease_pool_memory_cleanup

🧪 Running test: test_parse_basic_types
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_parse_basic_types

🧪 Running test: test_parse_collections
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:11 Dealloc:6 Peak:32 Current:20 Leaks:5
📋 Symbol: A:0/0 R:2 AR:2
📋 Vector: A:8/5 Rel:5 AR:1
📋 List: A:3/1 R:2 Rel:2 AR:1
🚨 LEAK: 5 objects, 20 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 5 allocations                    │
   │ Current Memory:             20 bytes                         │
   │ Peak Memory:               32 bytes                         │
   │ Allocations:                11                               │
   │ Deallocations:               6                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 3 leaks
🔍 List: 2 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_parse_collections

🧪 Running test: test_parse_comments
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_parse_comments

🧪 Running test: test_parse_metadata
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_parse_metadata

🧪 Running test: test_parse_utf8_symbols
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_parse_utf8_symbols

🧪 Running test: test_keyword_evaluation
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_keyword_evaluation

🧪 Running test: test_keyword_map_access
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:5 Dealloc:4 Peak:16 Current:4 Leaks:1
📋 Symbol: A:0/0 R:6 AR:5
📋 Vector: A:3/3 Rel:3
📋 Map: A:0/0 R:2
📋 List: A:2/1 R:1 Rel:2 AR:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               4                               │
   └─────────────────────────────────────────────────────────┘
🔍 List: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_keyword_map_access

🧪 Running test: test_parse_multiline_expressions
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:42 Dealloc:15 Peak:120 Current:108 Leaks:27
📋 Symbol: A:0/0 R:22 AR:10
📋 Vector: A:22/12 R:2 Rel:12 AR:4
📋 Map: A:0/0 R:3
📋 List: A:20/3 R:20 Rel:9 AR:6
🚨 LEAK: 27 objects, 108 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                27 allocations                    │
   │ Current Memory:            108 bytes                         │
   │ Peak Memory:              120 bytes                         │
   │ Allocations:                42                               │
   │ Deallocations:              15                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 10 leaks
🔍 List: 17 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_parse_multiline_expressions

🧪 Running test: test_simple_try_catch_exception_caught
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_simple_try_catch_exception_caught

🧪 Running test: test_simple_try_catch_no_exception
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_simple_try_catch_no_exception

🧪 Running test: test_nested_try_catch_inner_exception
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_nested_try_catch_inner_exception

🧪 Running test: test_nested_try_catch_outer_exception
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_nested_try_catch_outer_exception

🧪 Running test: test_exception_with_autorelease
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_exception_with_autorelease

🧪 Running test: test_repl_crash_scenario
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_repl_crash_scenario

🧪 Running test: test_map_arity_exception_zero_args
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_map_arity_exception_zero_args

🧪 Running test: test_with_autorelease_pool_swallows_exceptions
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Symbol: A:0/0 AR:2
📋 Vector: A:1/1 Rel:1
📋 Exception: A:1/0
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Exception: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_with_autorelease_pool_swallows_exceptions

🧪 Running test: test_throw_existing_exception
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_throw_existing_exception

🧪 Running test: test_throw_macro_convenience
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_throw_macro_convenience

🧪 Running test: test_list_count
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_list_count

🧪 Running test: test_conj_arity_0
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_conj_arity_0

🧪 Running test: test_conj_arity_1
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:7 Dealloc:4 Peak:28 Current:12 Leaks:3
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:5/3 R:4 Rel:5 AR:2
📋 List: A:2/1 R:3 Rel:4 AR:3
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 3 objects, 12 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 3 allocations                    │
   │ Current Memory:             12 bytes                         │
   │ Peak Memory:               28 bytes                         │
   │ Allocations:                 7                               │
   │ Deallocations:               4                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 2 leaks
🔍 List: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_conj_arity_1

🧪 Running test: test_conj_arity_2
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:9 Dealloc:5 Peak:32 Current:16 Leaks:4
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:6/4 R:4 Rel:5 AR:2
📋 List: A:3/1 R:7 Rel:7 AR:6
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 4 objects, 16 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 4 allocations                    │
   │ Current Memory:             16 bytes                         │
   │ Peak Memory:               32 bytes                         │
   │ Allocations:                 9                               │
   │ Deallocations:               5                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 2 leaks
🔍 List: 2 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_conj_arity_2

🧪 Running test: test_conj_arity_variadic
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:12 Dealloc:5 Peak:36 Current:28 Leaks:7
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:7/4 R:4 Rel:5 AR:2
📋 List: A:5/1 R:18 Rel:16 AR:15
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 7 objects, 28 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 7 allocations                    │
   │ Current Memory:             28 bytes                         │
   │ Peak Memory:               36 bytes                         │
   │ Allocations:                12                               │
   │ Deallocations:               5                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 3 leaks
🔍 List: 4 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_conj_arity_variadic

🧪 Running test: test_conj_nil_collection
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:6 Dealloc:4 Peak:20 Current:8 Leaks:2
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:2/2 Rel:2
📋 List: A:4/2 R:7 Rel:8 AR:6
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               20 bytes                         │
   │ Allocations:                 6                               │
   │ Deallocations:               4                               │
   └─────────────────────────────────────────────────────────┘
🔍 List: 2 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_conj_nil_collection

🧪 Running test: test_rest_arity_0
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:4 Dealloc:3 Peak:12 Current:4 Leaks:1
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:2/2 Rel:2
📋 List: A:1/1 Rel:1 AR:1
📋 Function: A:0/0 R:1 AR:1
📋 Exception: A:1/0
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:               12 bytes                         │
   │ Allocations:                 4                               │
   │ Deallocations:               3                               │
   └─────────────────────────────────────────────────────────┘
🔍 Exception: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_rest_arity_0

🧪 Running test: test_rest_nil
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:5 Dealloc:4 Peak:16 Current:4 Leaks:1
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:2/2 Rel:2
📋 List: A:3/2 R:3 Rel:5 AR:3
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               4                               │
   └─────────────────────────────────────────────────────────┘
🔍 List: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_rest_nil

🧪 Running test: test_rest_empty_vector
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:5 Dealloc:4 Peak:16 Current:4 Leaks:1
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:2/2 R:4 Rel:5 AR:2
📋 List: A:3/2 R:3 Rel:5 AR:3
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               4                               │
   └─────────────────────────────────────────────────────────┘
🔍 List: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_rest_empty_vector

🧪 Running test: test_rest_single_element
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:7 Dealloc:5 Peak:24 Current:8 Leaks:2
📋 Symbol: A:0/0 R:3 AR:2
📋 Vector: A:4/3 R:4 Rel:5 AR:2
📋 List: A:3/2 R:3 Rel:5 AR:3
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               24 bytes                         │
   │ Allocations:                 7                               │
   │ Deallocations:               5                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
🔍 List: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_rest_single_element

🧪 Running test: test_list_creation
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:15 Dealloc:8 Peak:44 Current:28 Leaks:7
📋 Symbol: A:0/0 R:15 AR:11
📋 Vector: A:4/4 Rel:4
📋 List: A:11/4 R:17 Rel:17 AR:13
📋 Function: A:0/0 R:1 AR:1
🚨 LEAK: 7 objects, 28 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 7 allocations                    │
   │ Current Memory:             28 bytes                         │
   │ Peak Memory:               44 bytes                         │
   │ Allocations:                15                               │
   │ Deallocations:               8                               │
   └─────────────────────────────────────────────────────────┘
🔍 List: 7 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_list_creation

🧪 Running test: test_evalstate_creation
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_evalstate_creation

🧪 Running test: test_namespace_switching
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_switching

🧪 Running test: test_namespace_isolation
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_isolation

🧪 Running test: test_special_ns_variable
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_special_ns_variable

🧪 Running test: test_namespace_lookup
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_lookup

🧪 Running test: test_namespace_binding
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_binding

🧪 Running test: test_namespace_lookup_core_functions
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_lookup_core_functions

🧪 Running test: test_namespace_lookup_user_namespace
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_lookup_user_namespace

🧪 Running test: test_namespace_lookup_cross_namespace
🔍 Memory profiling enabled (statistics reset)
=== Loading Clojure Core Functions ===
[clojure.core] Loaded 20/20 expressions successfully
📊 Memory: Alloc:283 Dealloc:42 Peak:1132 Current:964 Leaks:241
📋 Symbol: A:0/0 R:438 AR:244
📋 Vector: A:50/22 R:62 Rel:42 AR:41
📋 Map: A:0/0 R:20
📋 List: A:213/20 R:424 Rel:252 AR:232
📋 Closure: A:20/0 R:20 AR:40
🚨 LEAK: 241 objects, 964 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:               241 allocations                    │
   │ Current Memory:            964 bytes                         │
   │ Peak Memory:             1132 bytes                         │
   │ Allocations:               283                               │
   │ Deallocations:              42                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 28 leaks
🔍 List: 193 leaks
🔍 Closure: 20 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_lookup_cross_namespace

🧪 Running test: test_symbol_interning_consistency
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_symbol_interning_consistency

🧪 Running test: test_symbol_interning_with_namespace
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_symbol_interning_with_namespace

🧪 Running test: test_symbol_interning_global
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_symbol_interning_global

🧪 Running test: test_symbol_table_operations
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_symbol_table_operations

🧪 Running test: test_namespace_creation_and_switching
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_creation_and_switching

🧪 Running test: test_namespace_variable_storage
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_variable_storage

🧪 Running test: test_namespace_multiple_variables
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_multiple_variables

🧪 Running test: test_symbol_resolution_fallback
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_symbol_resolution_fallback

🧪 Running test: test_namespace_special_characters
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_special_characters

🧪 Running test: test_namespace_error_handling
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_error_handling

🧪 Running test: test_namespace_memory_management
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_namespace_memory_management

🧪 Running test: test_equal_null_pointers
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_equal_null_pointers

🧪 Running test: test_equal_same_objects
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_equal_same_objects

🧪 Running test: test_equal_different_strings
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_equal_different_strings

🧪 Running test: test_equal_different_types
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_equal_different_types

🧪 Running test: test_equal_immediate_values
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_equal_immediate_values

🧪 Running test: test_vector_equal_same_vectors
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_vector_equal_same_vectors

🧪 Running test: test_vector_equal_different_lengths
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_vector_equal_different_lengths

🧪 Running test: test_vector_equal_different_values
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_vector_equal_different_values

🧪 Running test: test_clj_equal_id_function
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_clj_equal_id_function

🧪 Running test: test_vector_equal_with_strings
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_vector_equal_with_strings

🧪 Running test: test_map_equal_same_maps
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:4 Dealloc:2 Peak:16 Current:8 Leaks:2
📋 String: A:4/0 R:8 Rel:4
📋 Map: A:0/2 Rel:2
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at test_map_equal_same_maps:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 4                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 4 leaks
📊 Memory: Alloc:4 Dealloc:2 Peak:16 Current:8 Leaks:2
📋 String: A:4/0 R:8 Rel:4
📋 Map: A:0/2 Rel:2
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 4                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 4 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_map_equal_same_maps

🧪 Running test: test_map_equal_different_keys
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:5 Dealloc:2 Peak:20 Current:12 Leaks:3
📋 String: A:5/0 R:8 Rel:5
📋 Map: A:0/2 Rel:2
🚨 LEAK: 3 objects, 12 bytes

🚨 MEMORY LEAK DETECTED at test_map_equal_different_keys:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 3 allocations                    │
   │ Current Memory:             12 bytes                         │
   │ Peak Memory:               20 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 5 leaks
📊 Memory: Alloc:5 Dealloc:2 Peak:20 Current:12 Leaks:3
📋 String: A:5/0 R:8 Rel:5
📋 Map: A:0/2 Rel:2
🚨 LEAK: 3 objects, 12 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 3 allocations                    │
   │ Current Memory:             12 bytes                         │
   │ Peak Memory:               20 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 5 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_map_equal_different_keys

🧪 Running test: test_map_equal_different_values
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:5 Dealloc:2 Peak:20 Current:12 Leaks:3
📋 String: A:5/0 R:8 Rel:5
📋 Map: A:0/2 Rel:2
🚨 LEAK: 3 objects, 12 bytes

🚨 MEMORY LEAK DETECTED at test_map_equal_different_values:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 3 allocations                    │
   │ Current Memory:             12 bytes                         │
   │ Peak Memory:               20 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 5 leaks
📊 Memory: Alloc:5 Dealloc:2 Peak:20 Current:12 Leaks:3
📋 String: A:5/0 R:8 Rel:5
📋 Map: A:0/2 Rel:2
🚨 LEAK: 3 objects, 12 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 3 allocations                    │
   │ Current Memory:             12 bytes                         │
   │ Peak Memory:               20 bytes                         │
   │ Allocations:                 5                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 5 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_map_equal_different_values

🧪 Running test: test_map_equal_different_sizes
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:4 Dealloc:2 Peak:16 Current:8 Leaks:2
📋 String: A:4/0 R:6 Rel:4
📋 Map: A:0/2 Rel:2
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at test_map_equal_different_sizes:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 4                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 4 leaks
📊 Memory: Alloc:4 Dealloc:2 Peak:16 Current:8 Leaks:2
📋 String: A:4/0 R:6 Rel:4
📋 Map: A:0/2 Rel:2
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               16 bytes                         │
   │ Allocations:                 4                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 4 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_map_equal_different_sizes

🧪 Running test: test_map_equal_with_nested_vectors
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:8 Dealloc:2 Peak:32 Current:24 Leaks:6
📋 String: A:2/0 R:6 Rel:2
📋 Vector: A:6/0 R:2
📋 Map: A:0/2 Rel:2
🚨 LEAK: 6 objects, 24 bytes

🚨 MEMORY LEAK DETECTED at test_map_equal_with_nested_vectors:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 6 allocations                    │
   │ Current Memory:             24 bytes                         │
   │ Peak Memory:               32 bytes                         │
   │ Allocations:                 8                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 2 leaks
🔍 Vector: 6 leaks
📊 Memory: Alloc:8 Dealloc:2 Peak:32 Current:24 Leaks:6
📋 String: A:2/0 R:6 Rel:2
📋 Vector: A:6/0 R:2
📋 Map: A:0/2 Rel:2
🚨 LEAK: 6 objects, 24 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 6 allocations                    │
   │ Current Memory:             24 bytes                         │
   │ Peak Memory:               32 bytes                         │
   │ Allocations:                 8                               │
   │ Deallocations:               2                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 2 leaks
🔍 Vector: 6 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_map_equal_with_nested_vectors

🧪 Running test: test_list_equal_same_lists
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_list_equal_same_lists

🧪 Running test: test_list_equal_same_instance
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_list_equal_same_instance

🧪 Running test: test_list_equal_empty_lists
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_list_equal_empty_lists

🧪 Running test: test_seq_create_list
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_create_list

🧪 Running test: test_seq_create_vector
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_create_vector

🧪 Running test: test_seq_create_string
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 String: A:1/0
📋 Vector: A:1/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 String: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_create_string

🧪 Running test: test_seq_create_map
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_create_map

🧪 Running test: test_seq_first
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_first

🧪 Running test: test_seq_rest
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_rest

🧪 Running test: test_seq_next
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_next

🧪 Running test: test_seq_equality
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:3 Dealloc:1 Peak:12 Current:8 Leaks:2
📋 Vector: A:3/1 Rel:1
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               12 bytes                         │
   │ Allocations:                 3                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 2 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_seq_equality

🧪 Running test: test_cljvalue_immediate_helpers
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_immediate_helpers

🧪 Running test: test_cljvalue_vector_api
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_vector_api

🧪 Running test: test_cljvalue_transient_vector
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_transient_vector

🧪 Running test: test_cljvalue_clojure_semantics
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_clojure_semantics

🧪 Running test: test_cljvalue_wrapper_functions
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_wrapper_functions

🧪 Running test: test_cljvalue_immediates_fixnum
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_immediates_fixnum

🧪 Running test: test_cljvalue_immediates_char
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_immediates_char

🧪 Running test: test_cljvalue_immediates_special
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_immediates_special

🧪 Running test: test_cljvalue_immediates_fixed
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_immediates_fixed

🧪 Running test: test_cljvalue_parser_immediates
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_parser_immediates

🧪 Running test: test_cljvalue_memory_efficiency
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_memory_efficiency

🧪 Running test: test_cljvalue_vectors_high_level
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:2 Dealloc:1 Peak:8 Current:4 Leaks:1
📋 Vector: A:2/1 Rel:1
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:                8 bytes                         │
   │ Allocations:                 2                               │
   │ Deallocations:               1                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_vectors_high_level

🧪 Running test: test_cljvalue_immediates_high_level
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cljvalue_immediates_high_level

🧪 Running test: test_dotimes_basic
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_dotimes_basic

🧪 Running test: test_doseq_basic
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_doseq_basic

🧪 Running test: test_for_basic
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_for_basic

🧪 Running test: test_dotimes_with_environment
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:6 Dealloc:5 Peak:24 Current:4 Leaks:1
📋 Symbol: A:0/0 R:6
📋 Vector: A:1/1 Rel:1
📋 Map: A:0/3 R:1 Rel:4
📋 List: A:5/1 R:4 Rel:3
🚨 LEAK: 1 objects, 4 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 1 allocations                    │
   │ Current Memory:              4 bytes                         │
   │ Peak Memory:               24 bytes                         │
   │ Allocations:                 6                               │
   │ Deallocations:               5                               │
   └─────────────────────────────────────────────────────────┘
🔍 List: 4 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_dotimes_with_environment

🧪 Running test: test_doseq_with_environment
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:7 Dealloc:5 Peak:28 Current:8 Leaks:2
📋 Symbol: A:0/0 R:7 AR:1
📋 Vector: A:2/1 R:1 Rel:1
📋 Map: A:0/3 R:1 Rel:4
📋 List: A:5/1 R:9 Rel:8 AR:5
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               28 bytes                         │
   │ Allocations:                 7                               │
   │ Deallocations:               5                               │
   └─────────────────────────────────────────────────────────┘
🔍 Vector: 1 leaks
🔍 List: 4 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_doseq_with_environment

🧪 Running test: test_fixed_basic_creation
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_basic_creation

🧪 Running test: test_fixed_negative_values
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_negative_values

🧪 Running test: test_fixed_precision
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_precision

🧪 Running test: test_fixed_multiplication_raw
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_multiplication_raw

🧪 Running test: test_fixed_mixed_type_promotion
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_mixed_type_promotion

🧪 Running test: test_fixed_saturation_max
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_saturation_max

🧪 Running test: test_fixed_saturation_min
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_saturation_min

🧪 Running test: test_fixed_division_raw
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_division_raw

🧪 Running test: test_fixed_edge_cases
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_edge_cases

🧪 Running test: test_fixed_tag_consistency
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_tag_consistency

🧪 Running test: test_fixed_addition_builtin
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_addition_builtin

🧪 Running test: test_fixed_subtraction_builtin
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_subtraction_builtin

🧪 Running test: test_fixed_mixed_addition
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_mixed_addition

🧪 Running test: test_fixed_negative_addition
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_negative_addition

🧪 Running test: test_fixed_multiplication_builtin
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_multiplication_builtin

🧪 Running test: test_fixed_division_builtin
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_division_builtin

🧪 Running test: test_fixed_mixed_multiplication
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_mixed_multiplication

🧪 Running test: test_fixed_division_by_zero
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_division_by_zero

🧪 Running test: test_fixed_complex_arithmetic
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_complex_arithmetic

🧪 Running test: test_fixed_overflow_detection
🔍 Memory profiling enabled (statistics reset)
📊 Memory: Alloc:7 Dealloc:5 Peak:20 Current:8 Leaks:2
📋 Vector: A:5/5 Rel:5
📋 Exception: A:2/0
🚨 LEAK: 2 objects, 8 bytes

🚨 MEMORY LEAK DETECTED at Test Complete:
   ┌─────────────────────────────────────────────────────────┐
   │ LEAK SUMMARY                                            │
   ├─────────────────────────────────────────────────────────┤
   │ Total Leaks:                 2 allocations                    │
   │ Current Memory:              8 bytes                         │
   │ Peak Memory:               20 bytes                         │
   │ Allocations:                 7                               │
   │ Deallocations:               5                               │
   └─────────────────────────────────────────────────────────┘
🔍 Exception: 2 leaks
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_fixed_overflow_detection

🧪 Running test: test_byte_array_creation
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_creation

🧪 Running test: test_byte_array_from_bytes
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_from_bytes

🧪 Running test: test_byte_array_get_set
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_get_set

🧪 Running test: test_byte_array_length
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_length

🧪 Running test: test_byte_array_clone
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_clone

🧪 Running test: test_byte_array_copy_from
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_copy_from

🧪 Running test: test_byte_array_copy_to
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_copy_to

🧪 Running test: test_byte_array_copy_between
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_copy_between

🧪 Running test: test_byte_array_slice
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_slice

🧪 Running test: test_byte_array_id_operations
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_id_operations

🧪 Running test: test_byte_array_memory_management
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_memory_management

🧪 Running test: test_byte_array_empty
🔍 Memory profiling enabled (statistics reset)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_byte_array_empty

🧪 Running test: test_autorelease_does_not_increase_rc
🔍 Memory profiling enabled (statistics reset)

=== COW Assumptions: AUTORELEASE does NOT increase RC ===
After make_map: RC=1
After AUTORELEASE: RC=1
✓ AUTORELEASE does NOT increase RC
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_autorelease_does_not_increase_rc

🧪 Running test: test_retain_increases_rc
🔍 Memory profiling enabled (statistics reset)

=== COW Assumptions: RETAIN increases RC ===
After make_map: RC=1
After RETAIN: RC=2
✓ RC=2 would trigger COW in map_assoc_cow
After RELEASE: RC=1
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_retain_increases_rc

🧪 Running test: test_autorelease_with_retain
🔍 Memory profiling enabled (statistics reset)

=== COW Assumptions: AUTORELEASE with RETAIN ===
Initial RC=1
After RETAIN: RC=2
After AUTORELEASE: RC=2
✓ AUTORELEASE does NOT decrease RC when RETAINed
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_autorelease_with_retain

🧪 Running test: test_multiple_autorelease_same_object
🔍 Memory profiling enabled (statistics reset)

=== COW Assumptions: Multiple AUTORELEASE same object ===
Initial RC=1
After 3 AUTORELEASE: RC=1
✓ Multiple AUTORELEASE does NOT increase RC
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_multiple_autorelease_same_object

🧪 Running test: test_autorelease_in_loop_realistic
🔍 Memory profiling enabled (statistics reset)

=== COW Assumptions: AUTORELEASE in loop (realistic) ===
Initial RC=1
Iteration 0: RC=1
Iteration 10: RC=1
Iteration 20: RC=1
Iteration 30: RC=1
Iteration 40: RC=1
Iteration 50: RC=1
Iteration 60: RC=1
Iteration 70: RC=1
Iteration 80: RC=1
Iteration 90: RC=1
✓ RC bleibt 1 auch nach 100 Iterationen mit AUTORELEASE
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_autorelease_in_loop_realistic

🧪 Running test: test_cow_inplace_mutation_rc_one
🔍 Memory profiling enabled (statistics reset)

=== Test 1: In-place mutation bei RC=1 ===
Initial RC=1
After first assoc: RC=1
After second assoc: RC=1
✓ In-place mutation funktioniert bei RC=1
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_inplace_mutation_rc_one

🧪 Running test: test_cow_copy_on_write_rc_greater_one
🔍 Memory profiling enabled (statistics reset)

=== Test 2: COW bei RC>1 ===
Initial RC=1
After RETAIN: RC=2
After COW assoc: RC=2
✓ COW funktioniert bei RC>1
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_copy_on_write_rc_greater_one

🧪 Running test: test_cow_original_map_unchanged
🔍 Memory profiling enabled (statistics reset)

=== Test 3: Original Map unverändert nach COW ===
Original map count=2
After COW: Original count=2
✓ Original Map bleibt unverändert nach COW
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_original_map_unchanged

🧪 Running test: test_cow_with_autorelease
🔍 Memory profiling enabled (statistics reset)

=== Test 4: AUTORELEASE mit COW ===
Initial RC=1
After AUTORELEASE: RC=1
After COW with AUTORELEASE: RC=1
✓ AUTORELEASE funktioniert korrekt mit COW
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_with_autorelease

🧪 Running test: test_cow_memory_leak_detection
🔍 Memory profiling enabled (statistics reset)

=== Test 5: Memory Leak Detection ===
Created map with 4 entries
✓ Keine Memory Leaks bei COW-Operationen
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_memory_leak_detection

🧪 Running test: test_cow_environment_loop_mutation
🔍 Memory profiling enabled (statistics reset)

=== Test 1: Environment-Mutation in Loop ===
Initial env RC=1
Loop iteration 0: RC=1, count=1
Loop iteration 20: RC=1, count=4
Loop iteration 40: RC=1, count=4
Loop iteration 60: RC=1, count=4
Loop iteration 80: RC=1, count=4
✓ Environment-Mutation in Loop funktioniert (100 Iterationen)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_environment_loop_mutation

🧪 Running test: test_cow_closure_environment_sharing
🔍 Memory profiling enabled (statistics reset)

=== Test 2: Closure-Environment-Sharing ===
Initial env RC=1
After RETAIN (closure): RC=2
After COW closure operation: RC=2
✓ Closure-Environment-Sharing funktioniert
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_closure_environment_sharing

🧪 Running test: test_cow_memory_efficiency_benchmark
🔍 Memory profiling enabled (statistics reset)

=== Test 4: Memory-Effizienz Benchmark ===
Benchmark: 1000 assoc-Operationen
Start: RC=1, count=0
  Iteration 0: RC=1, count=1
  Iteration 100: RC=1, count=4
  Iteration 200: RC=1, count=4
  Iteration 300: RC=1, count=4
  Iteration 400: RC=1, count=4
  Iteration 500: RC=1, count=4
  Iteration 600: RC=1, count=4
  Iteration 700: RC=1, count=4
  Iteration 800: RC=1, count=4
  Iteration 900: RC=1, count=4
Ende: RC=1, count=4
✓ 1000 Operationen: 99.9% Memory-Ersparnis erreicht!
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_memory_efficiency_benchmark

🧪 Running test: test_cow_real_clojure_simulation
🔍 Memory profiling enabled (statistics reset)

=== Test 5: Real Clojure Code Simulation ===
Simulating Clojure reduce with assoc...
  Item 0: RC=1, count=1
  Item 20: RC=1, count=21
  Item 40: RC=1, count=41
  Item 60: RC=1, count=61
  Item 80: RC=1, count=81
✓ Real Clojure Code Simulation erfolgreich
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_real_clojure_simulation

🧪 Running test: test_cow_actual_cow_demonstration
🔍 Memory profiling enabled (statistics reset)

=== COW Actual COW Demonstration ===
Initial RC=1
After RETAIN: RC=2
After COW: RC=2
✓ COW Actual COW Demonstration erfolgreich
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_cow_actual_cow_demonstration

🧪 Running test: test_simple_addition
🔍 Memory profiling enabled (statistics reset)

=== Simple Addition Test ===
Testing 5 + 3 = 8
✓ Simple addition works!
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_simple_addition

🧪 Running test: test_clojure_fixnum_creation
🔍 Memory profiling enabled (statistics reset)

=== Clojure Fixnum Creation Test ===
Created fixnums: 42 and 17
✓ Clojure fixnum creation works!
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_clojure_fixnum_creation

🧪 Running test: test_simple_map_operations
🔍 Memory profiling enabled (statistics reset)

=== Simple Map Operations Test ===
Created map with capacity 4
Added entries: (1, 10) and (2, 20)
✓ Map operations work correctly!
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_simple_map_operations

🧪 Running test: test_symbol_operations
🔍 Memory profiling enabled (statistics reset)

=== Symbol Operations Test ===
Created symbols: 'hello' and 'world'
✓ Symbol operations work correctly!
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_symbol_operations

🧪 Running test: test_error_handling
🔍 Memory profiling enabled (statistics reset)

=== Error Handling Test ===
✓ Error handling works correctly!
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_error_handling

🧪 Running test: test_performance_simple
🔍 Memory profiling enabled (statistics reset)

=== Performance Test ===
Running 1000 iterations...
✓ Performance test completed (1000 iterations)
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_performance_simple

🧪 Running test: test_memory_management
🔍 Memory profiling enabled (statistics reset)

=== Memory Management Test ===
Created multiple objects
✓ Memory management works correctly!
/Users/theisen/Projects/tiny-clj/src/tests/unity_test_runner.c:745:all_tests[i].func:PASS
✅ Test completed: test_memory_management


================================================================================
🔍 FINAL MEMORY LEAK SUMMARY
================================================================================
================================================================================


-----------------------
155 Tests 0 Failures 0 Ignored 
OK
